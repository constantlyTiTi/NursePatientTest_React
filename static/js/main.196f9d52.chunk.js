(this["webpackJsonpnurse-patient-test-management"]=this["webpackJsonpnurse-patient-test-management"]||[]).push([[0],{105:function(e,t,a){"use strict";a.r(t);var n=a(0),s=a.n(n),r=a(11),l=a.n(r),c=(a(96),a(53)),i=a(20),o=a(21),u=a(23),m=a(22),d=(a(97),a(14)),h=a(134),p=a(107),E=Object(d.h)((function(e){return s.a.createElement(s.a.Fragment,null,s.a.createElement("span",{className:e.buttonClass},s.a.createElement(h.a,{onClick:function(){return e.history.push(e.click)}},s.a.createElement(p.a,{variant:"h6",className:e.typoClass},e.name))))})),b=a(13),v=a.n(b),g=a(18),f=a(5),I=a(31),O=s.a.createContext({nurseSharedId:"",patient:{},test:{},setNurseContext:function(){}}),j=a(17),y=a(137),C=a(138),x=a(139),N=a(157),k=a(158),S=a(143),H=a(156),w=a(144),T=a(76),R=a.n(T);function P(e){var t=Object(n.useContext)(O),a=Object(d.f)(),r=Object(n.useState)({nurseSharedId:"",password:"",idError:!1,idErrorMessage:"",passwordError:!1,passwordErrorMessage:""}),l=Object(I.a)(r,2),c=l[0],i=l[1];function o(){return(o=Object(g.a)(v.a.mark((function n(s){var r,l,o;return v.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r="http://localhost:8080/nurse/".concat(c.nurseSharedId),n.next=3,fetch(r);case 3:return l=n.sent,n.next=6,l.json();case 6:null!=(o=n.sent)?c.password===o.password?(t.setNurseContext("nurseSharedId",c.nurseSharedId),a.push("".concat(e.parentPath,"nurseprofile"))):i(Object(f.a)(Object(f.a)({},c),{},{passwordError:!0,passwordErrorMessage:"Password not match"})):i(Object(f.a)(Object(f.a)({},c),{},{idError:!0,idErrorMessage:"ID not Exist"})),s.preventDefault();case 9:case"end":return n.stop()}}),n)})))).apply(this,arguments)}var u=Object(y.a)((function(e){return{paper:{marginTop:e.spacing(3),display:"flex",flexDirection:"column",alignItems:"center"},avatar:{margin:e.spacing(1),backgroundColor:e.palette.secondary.main},form:{width:"100%"},submit:{margin:e.spacing(3,0,2)}}}))();return s.a.createElement(s.a.Fragment,null,s.a.createElement(C.a,{component:"main",maxWidth:"xs"},s.a.createElement(x.a,null),s.a.createElement("div",{className:u.paper},s.a.createElement(N.a,{className:u.avatar},s.a.createElement(R.a,null)),s.a.createElement(p.a,{component:"h1",variant:"h5"},"Sign in"),s.a.createElement("form",{className:u.form},s.a.createElement(k.a,{error:c.idError,variant:"outlined",margin:"normal",required:!0,fullWidth:!0,id:"nurseId",label:"Nurse ID",name:"nurseId",helperText:c.idErrorMessage,autoFocus:!0,value:c.nurseSharedId,onChange:function(e){i(Object(f.a)(Object(f.a)({},c),{},{nurseSharedId:e.target.value,idError:!1,idErrorMessage:""}))}}),s.a.createElement(k.a,{error:c.passwordError,variant:"outlined",margin:"normal",required:!0,fullWidth:!0,name:"password",label:"Password",type:"password",id:"password",autoComplete:"current-password",helperText:c.passwordErrorMessage,value:c.password,onChange:function(e){i(Object(f.a)(Object(f.a)({},c),{},{password:e.target.value,passwordError:!1,passwordErrorMessage:""}))}}),s.a.createElement(S.a,{control:s.a.createElement(H.a,{value:"remember",color:"primary"}),label:"Remember me"}),s.a.createElement(h.a,{fullWidth:!0,variant:"contained",color:"primary",className:u.submit,onClick:function(e){return o.apply(this,arguments)}},"Sign In"),s.a.createElement(w.a,{container:!0},s.a.createElement(w.a,{item:!0},s.a.createElement(j.b,{to:"/Register",variant:"body2"},"Don't have an account? Register")))))))}var F=function(){return s.a.createElement(s.a.Fragment,null,s.a.createElement("p",null,"* This page is an individual react practice page"),s.a.createElement("p",null,"* It is built for helping nurse manage the tests and patients"),s.a.createElement("p",null,"* Nurse can find the tests and patients information after login the system"),s.a.createElement("p",null,"* Nurse can also create and retrieve the tests of each patient"),s.a.createElement("p",null,"* Database is Oracle SQL database"))},L=a(152),D=a(153),A=a(155),M=a(8),B=function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(i.a)(this,a),(n=t.call(this,e)).state={loading:!0,nurse:{firstname:"",lastname:"",department:"",password:""}},n.firstnameHandleChange=n.firstnameHandleChange.bind(Object(M.a)(n)),n.lastnameHandleChange=n.lastnameHandleChange.bind(Object(M.a)(n)),n.passwordHandleChange=n.passwordHandleChange.bind(Object(M.a)(n)),n.departmentHandleChange=n.departmentHandleChange.bind(Object(M.a)(n)),n.handleOnSubmit=n.handleOnSubmit.bind(Object(M.a)(n)),n}return Object(o.a)(a,[{key:"componentDidMount",value:function(){var e=Object(g.a)(v.a.mark((function e(){var t,a,n,s;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.context.nurseSharedId,a="http://localhost:8080/nurse/".concat(t),console.log("context",this.context),e.next=5,fetch(a);case 5:return n=e.sent,e.next=8,n.json();case 8:s=e.sent,this.setState({loading:!1,nurse:s});case 10:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"firstnameHandleChange",value:function(e){this.setState({nurse:Object(f.a)(Object(f.a)({},this.state.nurse),{},{firstname:e.target.value})})}},{key:"lastnameHandleChange",value:function(e){this.setState({nurse:Object(f.a)(Object(f.a)({},this.state.nurse),{},{lastname:e.target.value})})}},{key:"passwordHandleChange",value:function(e){this.setState({nurse:Object(f.a)(Object(f.a)({},this.state.nurse),{},{password:e.target.value})})}},{key:"departmentHandleChange",value:function(e){this.setState({nurse:Object(f.a)(Object(f.a)({},this.state.nurse),{},{department:e.target.value})})}},{key:"handleOnSubmit",value:function(){var e=Object(g.a)(v.a.mark((function e(t){var a,n,s;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=this.context.nurseSharedId,n="http://localhost:8080/nurse/".concat(a),s={method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(this.state.nurse)},fetch(n,s).then((function(e){return e.json()}));case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"render",value:function(){return s.a.createElement(s.a.Fragment,null,s.a.createElement("div",{className:"NurseProfile-page"},this.state.loading||!this.state.nurse?s.a.createElement("div",null,"Loading..."):s.a.createElement(w.a,{container:!0,spacing:2},s.a.createElement(w.a,{item:!0,xs:12,sm:12,md:6,lg:6},s.a.createElement(k.a,{type:"text",name:"nurseId",label:"Nurse ID",variant:"outlined",value:this.context.nurseSharedId,disabled:!0})),s.a.createElement(w.a,{item:!0,xs:12,sm:12,md:6,lg:6},s.a.createElement(k.a,{type:"text",name:"firstName",label:"First Name",variant:"outlined",value:this.state.nurse.firstname,onChange:this.firstnameHandleChange})),s.a.createElement(w.a,{item:!0,xs:12,sm:12,md:6,lg:6},s.a.createElement(k.a,{type:"text",name:"lastName",label:"Last Name",variant:"outlined",value:this.state.nurse.lastname,onChange:this.lastnameHandleChange})),s.a.createElement(w.a,{item:!0,xs:12,sm:12,md:6,lg:6},s.a.createElement(k.a,{type:"text",name:"department",label:"Department",variant:"outlined",value:this.state.nurse.department,onChange:this.departmentHandleChange})),s.a.createElement(w.a,{item:!0,xs:12,sm:12,md:6,lg:6},s.a.createElement(k.a,{type:"text",name:"password",label:"password",variant:"outlined",value:this.state.nurse.password,onChange:this.passwordHandleChange})),s.a.createElement(w.a,{item:!0,xs:12,sm:12,md:12,lg:12},s.a.createElement(h.a,{variant:"contained",color:"primary",onClick:this.handleOnSubmit},"Save Changes")))))}}]),a}(s.a.Component);B.contextType=O;var V=a(81),J=a(77),W=a.n(J),_=function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(i.a)(this,a),(n=t.call(this,e)).state={searchValue:""},n.handleOnChange=n.handleOnChange.bind(Object(M.a)(n)),n.searchTestByPatient=n.searchTestByPatient.bind(Object(M.a)(n)),n.createTest=n.createTest.bind(Object(M.a)(n)),n.showAllTest=n.showAllTest.bind(Object(M.a)(n)),n}return Object(o.a)(a,[{key:"componentDidMount",value:function(){this.context.setNurseContext("searchValue","")}},{key:"handleOnChange",value:function(e){this.setState({searchValue:e.target.value})}},{key:"createTest",value:function(){this.props.history.push("".concat(this.props.match.url,"/test/createnewtest"))}},{key:"searchTestByPatient",value:function(e){13===(e.keyCode||e.which)&&(this.props.history.push("/test/alltests"),this.context.setNurseContext("searchMethod","patientId"),this.context.setNurseContext("searchValue",this.state.searchValue))}},{key:"showAllTest",value:function(){console.log(this.props.match),this.context.setNurseContext("searchMethod","all")}},{key:"render",value:function(){return s.a.createElement(s.a.Fragment,null,s.a.createElement("div",{className:"NurseProfile-page"},s.a.createElement(w.a,{container:!0,spacing:3},s.a.createElement(w.a,{item:!0,xs:12,sm:12,md:6,lg:6},s.a.createElement(W.a,null),s.a.createElement(V.a,{variant:"outlined",placeholder:"Search by Patient Id",name:"searchByPatientId",onChange:this.handleOnChange,onKeyPress:this.searchTestByPatient})),s.a.createElement(w.a,{item:!0,xs:12,sm:12,md:6,lg:6},s.a.createElement(h.a,{variant:"contained",onClick:this.createTest},"Create New Test")),s.a.createElement(w.a,{item:!0,xs:12,sm:12,md:6,lg:6},s.a.createElement(h.a,{variant:"contained",onClick:this.showAllTest},"Find All Tests By Nurse")))))}}]),a}(s.a.Component);_.contextType=O;var z=Object(d.h)(_),U=a(148),q=a(108),K=a(149),Q=a(150),Y=a(146),$=a(151),G=a(147),X=a(145),Z=a(4),ee=Object(Z.a)((function(e){return{head:{backgroundColor:e.palette.customizeTable.main,color:e.palette.common.white,fontSize:20},body:{fontSize:20}}}))(X.a),te=Object(Z.a)((function(e){return{root:{"&:nth-of-type(odd)":{backgroundColor:e.palette.action.hover}}}}))(Y.a),ae=a(78),ne=Object(y.a)((function(e){return{root:{"& > *":{marginTop:e.spacing(5),marginRight:"auto",marginLeft:"auto",width:e.spacing(130)}},button:{marginTop:e.spacing(5),marginRight:"auto",marginLeft:"auto",width:e.spacing(30)}}})),se=Object(ae.a)({palette:{customizeTable:{main:"#5c6ac4"}}}),re=(Object(y.a)((function(e){return{root:{"& > *":{marginTop:e.spacing(5),marginRight:"auto",marginLeft:"auto",height:e.spacing(60)}}}})),Object(d.h)((function(e){var t=e.history,a=Object(n.useState)([]),r=Object(I.a)(a,2),l=r[0],c=r[1],i=Object(n.useContext)(O),o=ne(),u=se,m=Object(d.g)().url;function p(e){return E.apply(this,arguments)}function E(){return(E=Object(g.a)(v.a.mark((function e(t){var a,n,s;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a="http://localhost:8080/nurse/".concat(t,"/patients"),e.next=3,fetch(a);case 3:return n=e.sent,e.next=6,n.json();case 6:return s=e.sent,e.next=9,c(s);case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}Object(n.useEffect)((function(){p(i.nurseSharedId)}),[]);return s.a.createElement(s.a.Fragment,null,s.a.createElement(G.a,{theme:u},s.a.createElement("div",{className:o.root},s.a.createElement(U.a,{component:q.a,elevation:5},s.a.createElement(K.a,null,s.a.createElement(Q.a,null,s.a.createElement(Y.a,null,s.a.createElement(ee,null,"Patient Id"),s.a.createElement(ee,null,"First Name"),s.a.createElement(ee,null,"Last Name"),s.a.createElement(ee,null,"Department"),s.a.createElement(ee,null,"Responsible By Nurse"),s.a.createElement(ee,null,"Room"),s.a.createElement(ee,null,"Tests"),s.a.createElement(ee,null,"Edit/Delete"))),s.a.createElement($.a,null,l.length>0&&l.map((function(e,t){return s.a.createElement(te,{key:t,scope:"row"},s.a.createElement(ee,null,e.patientId),s.a.createElement(ee,null,e.firstName),s.a.createElement(ee,null,e.lastName),s.a.createElement(ee,null,e.department),s.a.createElement(ee,null,e.nurseId),s.a.createElement(ee,null,e.room),s.a.createElement(ee,null,s.a.createElement(j.b,{to:"/test/alltests",onClick:function(){return t=e.patientId,console.log(t),console.log(i),i.setNurseContext("searchMethod","patientId"),i.setNurseContext("searchValue",t),void console.log(i);var t}},"Find Tests")," ","|"),s.a.createElement(ee,null,s.a.createElement(h.a,{to:"/patient/".concat(e.patientId),onClick:function(){return t=e,void i.setNurseContext("patient",t);var t},color:"primary"},"Edit")," ","|",s.a.createElement(h.a,{onClick:function(){return t="http://localhost:8080/patients/paitent_".concat(e.patientId),a=e.nurseId,fetch(t,{method:"DELETE"}).then((function(e){e.ok&&p(a)}));var t,a},color:"secondary"},"Delete")))}))))))),s.a.createElement("div",{className:o.button},s.a.createElement(h.a,{onClick:function(){t.push("".concat(m,"/patient/createnewpatient"))},color:"primary"},"Add New Patient")))}))),le=a(142),ce=a(160),ie=a(154),oe=a(161),ue=function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(i.a)(this,a),(n=t.call(this,e)).state={test:{testId:"",nurseId:"",patientId:"",testItemId:"",testResult:"",date:""},backupTest:{testId:"",nurseId:"",patientId:"",testItemId:"",testResult:"",date:""},loading:!0,testItemloading:!0,testItems:[],nurseIdError:!1,patientIdError:!1,dateError:!1,testItemIdError:!1,testResultError:!1,patientList:[],patientLoading:!0},n.submitForm=n.submitForm.bind(Object(M.a)(n)),n.nurseIdEventHandler=n.nurseIdEventHandler.bind(Object(M.a)(n)),n.patientIdEventHandler=n.patientIdEventHandler.bind(Object(M.a)(n)),n.dateEventHandler=n.dateEventHandler.bind(Object(M.a)(n)),n.cancel=n.cancel.bind(Object(M.a)(n)),n.testItemIdEventHandler=n.testItemIdEventHandler.bind(Object(M.a)(n)),n.testResultEventHandler=n.testResultEventHandler.bind(Object(M.a)(n)),n}return Object(o.a)(a,[{key:"componentDidMount",value:function(){var e=Object(g.a)(v.a.mark((function e(){var t,a,n,s,r,l,c,i,o;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.context.test.testId,a="http://localhost:8080/tests/testId_".concat(t),e.next=4,fetch(a);case 4:return n=e.sent,e.next=7,n.json();case 7:return s=e.sent,n.ok&&this.setState({test:s,backupTest:s,loading:!1}),"http://localhost:8080/TestItem/AllTestItems",e.next=12,fetch("http://localhost:8080/TestItem/AllTestItems");case 12:return r=e.sent,e.next=15,r.json();case 15:return l=e.sent,r.ok&&this.setState({testItems:l,testItemloading:!1}),c="http://localhost:8080/nurse/".concat(this.context.nurseSharedId,"/patients"),e.next=20,fetch(c);case 20:return i=e.sent,e.next=23,i.json();case 23:o=e.sent,i.ok&&this.setState({patientList:o,patientLoading:!1});case 25:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"nurseIdEventHandler",value:function(e){this.setState({test:Object(f.a)(Object(f.a)({},this.state.test),{},{nurseId:e.target.value}),nurseIdError:!1})}},{key:"patientIdEventHandler",value:function(e){this.setState({test:Object(f.a)(Object(f.a)({},this.state.test),{},{patientId:e.target.value}),patientIdError:!1})}},{key:"dateEventHandler",value:function(e){this.setState({test:Object(f.a)(Object(f.a)({},this.state.test),{},{date:e.target.value}),dateError:!1})}},{key:"testItemIdEventHandler",value:function(e){this.setState({test:Object(f.a)(Object(f.a)({},this.state.test),{},{testItemId:e.target.value}),testItemIdError:!1})}},{key:"testResultEventHandler",value:function(e){this.setState({test:Object(f.a)(Object(f.a)({},this.state.test),{},{testResult:e.target.value}),testResultError:!1})}},{key:"submitForm",value:function(){var e=this,t=this.context.test.testId;if(""!==this.state.test.nurseId&&""!==this.state.test.patientId&&""!==this.state.test.date&&""!==this.state.test.testItemId&&""!==this.state.test.testResult){var a="http://localhost:8080//tests/testId_".concat(t);fetch(a,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(this.state.test)}).then((function(t){t.ok&&(e.context.setNurseContext("searchMethod","patientId"),e.context.setNurseContext("searchValue",e.state.test.patientId),e.props.history.push("".concat(e.props.match.url,"/test/alltests")))}))}else""===this.state.test.nurseId&&this.setState({nurseIdError:!0}),""===this.state.test.patientId&&this.setState({patientIdError:!0}),""===this.state.test.date&&this.setState({dateError:!0}),""===this.state.test.testItemId&&this.setState({testItemIdError:!0}),""===this.state.test.testResult&&this.setState({testResultError:!0})}},{key:"cancel",value:function(){this.setState({test:this.state.backupTest})}},{key:"render",value:function(){var e=this;return s.a.createElement(s.a.Fragment,null,s.a.createElement("div",{className:"testPage-page"},this.state.loading||this.state.testItemloading||this.state.patientLoading||0===this.state.testItems.length?s.a.createElement("div",null,"loading..."):s.a.createElement(s.a.Fragment,null,s.a.createElement(w.a,{container:!0,spacing:3},s.a.createElement(w.a,{item:!0,xs:12,sm:12,md:6,lg:6},s.a.createElement(k.a,{name:"nurseId",label:"Test is done by Nurse Id",variant:"outlined",value:this.state.test.nurseId,onChange:this.nurseIdEventHandler,type:"text",error:this.state.nurseIdError})),s.a.createElement(w.a,{item:!0,xs:12,sm:12,md:6,lg:6},s.a.createElement(le.a,{variant:"outlined",className:"createTest-select"},s.a.createElement(ce.a,null,"Patient Id"),s.a.createElement(ie.a,{error:this.state.patientIdError,id:"patientId",value:this.state.test.patientId,label:"Patient Id",onChange:this.patientIdEventHandler},this.state.patientList.length>0?this.state.patientList.map((function(e,t){return s.a.createElement(oe.a,{key:t,value:e.patientId},"".concat(e.patientId," ").concat(e.firstName," ").concat(e.lastName))})):s.a.createElement(oe.a,{value:""},"None")))),s.a.createElement(w.a,{item:!0,xs:12,sm:12,md:6,lg:6},s.a.createElement(le.a,{variant:"outlined",className:"createTest-select"},s.a.createElement(ce.a,null,"Test Item"),s.a.createElement(ie.a,{error:this.state.testItemIdError,id:"testItemId",value:this.state.test.testItemId,label:"Test Item",onChange:this.testItemIdEventHandler},this.state.testItems.map((function(t,a){return console.log("this.state.testItemId",e.state.testItemId),console.log("loadITemId",t.itemId),s.a.createElement(oe.a,{key:a,value:t.itemId},t.itemName)}))))),s.a.createElement(w.a,{item:!0,xs:12,sm:12,md:6,lg:6},s.a.createElement(k.a,{error:this.state.testResultError,type:"text",name:"testResult",variant:"outlined",label:"Test Result",value:this.state.test.testResult,onChange:this.testResultEventHandler})),s.a.createElement(w.a,{item:!0,xs:12,sm:12,md:6,lg:6},s.a.createElement(k.a,{error:this.state.dateError,type:"date",name:"date",variant:"outlined",value:this.state.test.date.split("T",1),onChange:this.dateEventHandler}))),s.a.createElement(w.a,{container:!0,spacing:3},s.a.createElement(w.a,{item:!0,xs:12,sm:12,md:6,lg:6},s.a.createElement(h.a,{color:"primary",onClick:this.submitForm},"Save")),s.a.createElement(w.a,{item:!0,xs:12,sm:12,md:6,lg:6},s.a.createElement(h.a,{color:"secondary",onClick:this.cancel},"Cancel"))))))}}]),a}(s.a.Component);ue.contextType=O;var me=Object(d.h)(ue),de=function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(i.a)(this,a),(n=t.call(this,e)).state={test:{nurseId:"",patientId:"",date:"",testItemId:"",testResult:""},testItems:[],loading:!0,patientList:[],patientLoading:!0,nurseIdError:!1,patientIdError:!1,dateError:!1,testItemIdError:!1,testResultError:!1},n.submitForm=n.submitForm.bind(Object(M.a)(n)),n.nurseIdEventHandler=n.nurseIdEventHandler.bind(Object(M.a)(n)),n.patientIdEventHandler=n.patientIdEventHandler.bind(Object(M.a)(n)),n.dateEventHandler=n.dateEventHandler.bind(Object(M.a)(n)),n.cancel=n.cancel.bind(Object(M.a)(n)),n.testItemIdEventHandler=n.testItemIdEventHandler.bind(Object(M.a)(n)),n.testResultEventHandler=n.testResultEventHandler.bind(Object(M.a)(n)),n}return Object(o.a)(a,[{key:"componentDidMount",value:function(){var e=Object(g.a)(v.a.mark((function e(){var t,a,n,s,r;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"http://localhost:8080/TestItem/AllTestItems",e.next=3,fetch("http://localhost:8080/TestItem/AllTestItems");case 3:return t=e.sent,e.next=6,t.json();case 6:return a=e.sent,this.setState({testItems:a,loading:!1}),n="http://localhost:8080/nurse/".concat(this.context.nurseSharedId,"/patients"),e.next=11,fetch(n);case 11:return s=e.sent,e.next=14,s.json();case 14:r=e.sent,this.setState({patientList:r,patientLoading:!1}),this.context.setNurseContext("searchMethod",""),this.context.setNurseContext("searchValue","");case 18:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"submitForm",value:function(){var e=this;if(""!==this.state.test.nurseId&&""!==this.state.test.patientId&&""!==this.state.test.date&&""!==this.state.test.testItemId&&""!==this.state.test.testResult){fetch("http://localhost:8080/newTest",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(this.state.test)}).then((function(t){t.ok&&(e.state.test.nurseId!==e.context.nurseSharedId?(e.context.setNurseContext("searchMethod","patientId"),e.context.setNurseContext("searchValue",e.state.test.patientId)):e.context.setNurseContext("searchMethod","all"),e.props.history.push("".concat(e.props.match.url,"/test/alltests")))}))}else""===this.state.test.nurseId&&this.setState({nurseIdError:!0}),""===this.state.test.patientId&&this.setState({patientIdError:!0}),""===this.state.test.date&&this.setState({dateError:!0}),""===this.state.test.testItemId&&this.setState({testItemIdError:!0}),""===this.state.test.testResult&&this.setState({testResultError:!0})}},{key:"cancel",value:function(){this.setState({test:{nurseId:"",patientId:"",date:"",testItemId:"",testResult:""},nurseIdError:!0,patientIdError:!0,dateError:!0,testItemIdError:!0,testResultError:!0})}},{key:"nurseIdEventHandler",value:function(e){this.setState({test:Object(f.a)(Object(f.a)({},this.state.test),{},{nurseId:e.target.value}),nurseIdError:!1})}},{key:"patientIdEventHandler",value:function(e){this.setState({test:Object(f.a)(Object(f.a)({},this.state.test),{},{patientId:e.target.value}),patientIdError:!1})}},{key:"dateEventHandler",value:function(e){this.setState({test:Object(f.a)(Object(f.a)({},this.state.test),{},{date:e.target.value}),dateError:!1})}},{key:"testItemIdEventHandler",value:function(e){this.setState({test:Object(f.a)(Object(f.a)({},this.state.test),{},{testItemId:e.target.value}),testItemIdError:!1})}},{key:"testResultEventHandler",value:function(e){this.setState({test:Object(f.a)(Object(f.a)({},this.state.test),{},{testResult:e.target.value}),testResultError:!1})}},{key:"render",value:function(){return s.a.createElement(s.a.Fragment,null,s.a.createElement("div",{className:"testPage-page"},this.state.loading||0===this.state.testItems.length?s.a.createElement("div",null,"loading..."):s.a.createElement(s.a.Fragment,null,s.a.createElement(w.a,{container:!0,spacing:3},s.a.createElement(w.a,{item:!0,xs:12,sm:12,md:6,lg:6},s.a.createElement(k.a,{name:"nurseId",label:"Test is done by Nurse Id",variant:"outlined",value:this.state.test.nurseId,onChange:this.nurseIdEventHandler,type:"text",error:this.state.nurseIdError})),s.a.createElement(w.a,{item:!0,xs:12,sm:12,md:6,lg:6},s.a.createElement(le.a,{variant:"outlined",className:"createTest-select"},s.a.createElement(ce.a,null,"Patient Id"),s.a.createElement(ie.a,{error:this.state.patientIdError,id:"patientId",value:this.state.test.patientId,label:"Patient Id",onChange:this.patientIdEventHandler},this.state.patientList.length>0?this.state.patientList.map((function(e,t){return s.a.createElement(oe.a,{key:t,value:e.patientId},"".concat(e.patientId," ").concat(e.firstName," ").concat(e.lastName))})):s.a.createElement(oe.a,{value:""},"None")))),s.a.createElement(w.a,{item:!0,xs:12,sm:12,md:6,lg:6},s.a.createElement(le.a,{variant:"outlined",className:"createTest-select"},s.a.createElement(ce.a,null,"Test Item"),s.a.createElement(ie.a,{error:this.state.testItemIdError,value:this.state.testItemId,label:"Test Item",onChange:this.testItemIdEventHandler},this.state.testItems.map((function(e,t){return s.a.createElement(oe.a,{key:t,value:e.itemId},e.itemName)}))))),s.a.createElement(w.a,{item:!0,xs:12,sm:12,md:6,lg:6},s.a.createElement(k.a,{error:this.state.testResultError,type:"text",name:"testResult",variant:"outlined",label:"Test Result",value:this.state.test.testResult,onChange:this.testResultEventHandler})),s.a.createElement(w.a,{item:!0,xs:12,sm:12,md:6,lg:6},s.a.createElement(k.a,{error:this.state.dateError,type:"date",name:"date",variant:"outlined",value:this.state.test.date,onChange:this.dateEventHandler}))),s.a.createElement(w.a,{container:!0,spacing:3},s.a.createElement(w.a,{item:!0,xs:12,sm:12,md:6,lg:6},s.a.createElement(h.a,{onClick:this.submitForm,color:"primary"},"Submit")),s.a.createElement(w.a,{item:!0,xs:12,sm:12,md:6,lg:6},s.a.createElement(h.a,{onClick:this.cancel,color:"secondary"},"Cancel"))))))}}]),a}(s.a.Component);de.contextType=O;var he=Object(d.h)(de);function pe(){var e=Object(n.useState)([]),t=Object(I.a)(e,2),a=t[0],r=t[1],l=Object(n.useState)(!1),c=Object(I.a)(l,2),i=c[0],o=c[1],u=Object(n.useContext)(O),m=Object(d.g)().url,h=ne(),p=se,E=Object(n.useState)(""),b=Object(I.a)(E,2),v=b[0],g=b[1];Object(n.useEffect)((function(){console.log("test Type",u.searchMethod);var e=u.nurseSharedId,t=u.searchMethod;!function(){var a="";if("patientId"===t){var n=u.searchValue;a="http://localhost:8080/tests/patientId_".concat(n),g("Patient ID ".concat(n," has below tests"))}else a="http://localhost:8080/tests/nurseId_".concat(e),g("Nurse ID ".concat(e," has done below tests"));fetch(a).then((function(e){return e.json()})).then((function(e){return r(e)})),o(!1)}(),console.log(u.searchValue)}),[i]);return s.a.createElement(s.a.Fragment,null,s.a.createElement(G.a,{theme:p},s.a.createElement("div",{className:h.root},s.a.createElement(k.a,{lable:v}),s.a.createElement(U.a,{component:q.a,elevation:5},s.a.createElement(K.a,{"aria-label":"test table"},s.a.createElement(Q.a,null,s.a.createElement(Y.a,null,s.a.createElement(ee,null,"Test Id"),s.a.createElement(ee,null,"Operated by Nurse Id"),s.a.createElement(ee,null,"Test Items"),s.a.createElement(ee,null,"Test Results"),s.a.createElement(ee,null,"Test Date"),s.a.createElement(ee,null,"Edit/Delete"))),s.a.createElement($.a,null,a.length>0&&a.map((function(e,t){return s.a.createElement(te,{key:t,scope:"row"},s.a.createElement(ee,null,e.testId),s.a.createElement(ee,null,e.nurseId),s.a.createElement(ee,null,e.testItemId),s.a.createElement(ee,null,e.testResult),s.a.createElement(ee,null,e.date.split("T",1)),s.a.createElement(ee,null,s.a.createElement(j.b,{to:"".concat(m,"/test/testdetails"),onClick:function(){return function(e){u.setNurseContext("test",e)}(e)}},"Edit"),s.a.createElement("input",{type:"button",onClick:function(){return function(e){return fetch(e,{method:"DELETE"}).then((function(e){e.ok&&o(!0)}))}("http://localhost:8080/tests/testId_".concat(e.testId))},value:"Delete"})))}))))))))}var Ee=function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(i.a)(this,a),(n=t.call(this,e)).state={patient:{firstName:"",lastName:"",room:"",nurseId:"",department:""}},n.firstNameEventHandler=n.firstNameEventHandler.bind(Object(M.a)(n)),n.lastNameEventHandler=n.lastNameEventHandler.bind(Object(M.a)(n)),n.roomEventHandler=n.roomEventHandler.bind(Object(M.a)(n)),n.departmentEventHandler=n.departmentEventHandler.bind(Object(M.a)(n)),n.submitForm=n.submitForm.bind(Object(M.a)(n)),n}return Object(o.a)(a,[{key:"componentDidMount",value:function(){this.setState({patient:Object(f.a)(Object(f.a)({},this.state.patient),{},{nurseId:this.context.nurseSharedId})})}},{key:"firstNameEventHandler",value:function(e){this.setState({patient:Object(f.a)(Object(f.a)({},this.state.patient),{},{firstName:e.target.value})})}},{key:"lastNameEventHandler",value:function(e){this.setState({patient:Object(f.a)(Object(f.a)({},this.state.patient),{},{lastName:e.target.value})})}},{key:"roomEventHandler",value:function(e){this.setState({patient:Object(f.a)(Object(f.a)({},this.state.patient),{},{room:e.target.value})})}},{key:"departmentEventHandler",value:function(e){this.setState({patient:Object(f.a)(Object(f.a)({},this.state.patient),{},{department:e.target.value})})}},{key:"submitForm",value:function(e){var t=this,a="http://localhost:8080/nurse/".concat(this.context.nurseSharedId,"/newPatient");fetch(a,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(this.state.patient)}).then((function(e){e.ok&&t.props.history.push("".concat(t.props.match.path,"/patient"))}))}},{key:"render",value:function(){return s.a.createElement(s.a.Fragment,null,s.a.createElement("div",{className:"NurseProfile-page"},s.a.createElement(w.a,{container:!0,spacing:3},s.a.createElement(w.a,{item:!0,xs:12,sm:12,md:6,lg:6},s.a.createElement(k.a,{name:"firstName",variant:"outlined",label:"First Name",value:this.state.patient.firstName,onChange:this.firstNameEventHandler})),s.a.createElement(w.a,{item:!0,xs:12,sm:12,md:6,lg:6},s.a.createElement(k.a,{name:"lastName",variant:"outlined",label:"Last Name",value:this.state.patient.lastName,onChange:this.lastNameEventHandler})),s.a.createElement(w.a,{item:!0,xs:12,sm:12,md:6,lg:6},s.a.createElement(k.a,{name:"room",variant:"outlined",label:"Room",value:this.state.patient.room,onChange:this.roomEventHandler})),s.a.createElement(w.a,{item:!0,xs:12,sm:12,md:6,lg:6},s.a.createElement(k.a,{name:"nurseId",variant:"outlined",label:"Nurse ID",value:this.state.patient.nurseId,disabled:!0})),s.a.createElement(w.a,{item:!0,xs:12,sm:12,md:6,lg:6},s.a.createElement(k.a,{name:"department",variant:"outlined",label:"Department",value:this.state.patient.department,disabled:!1})),s.a.createElement(w.a,{item:!0,xs:12,sm:12,md:12,lg:12},s.a.createElement(h.a,{onClick:this.submitForm},"Submit")))))}}]),a}(s.a.Component);Ee.contextType=O;var be=Object(d.h)(Ee);function ve(){var e=Object(d.g)().url,t=Object(d.f)(),a=Object(n.useContext)(O).patient,r=Object(n.useState)({firstName:a.firstName,lastName:a.lastName,department:a.department,room:a.room,nurseId:a.nurseId}),l=Object(I.a)(r,2),c=l[0],i=l[1];function o(){return(o=Object(g.a)(v.a.mark((function n(){var s,r,l;return v.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:s=a.patientId,r="http://localhost:8080/patients/patient_".concat(s),l={method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(c)},fetch(r,l).then((function(a){a.ok&&t.push("".concat(e,"/patient"))}));case 4:case"end":return n.stop()}}),n)})))).apply(this,arguments)}return s.a.createElement(s.a.Fragment,null,s.a.createElement("label",null,"First Name"),s.a.createElement("input",{value:c.firstName,onChange:function(e){i(Object(f.a)(Object(f.a)({},c),{},{firstName:e.target.value}))}}),s.a.createElement("label",null,"Last Name"),s.a.createElement("input",{value:c.lastName,onChange:function(e){i(Object(f.a)(Object(f.a)({},c),{},{lastName:e.target.value}))}}),s.a.createElement("label",null,"Department"),s.a.createElement("input",{value:c.department,onChange:function(e){i(Object(f.a)(Object(f.a)({},c),{},{department:e.target.value}))}}),s.a.createElement("label",null,"Room"),s.a.createElement("input",{value:c.room,onChange:function(e){i(Object(f.a)(Object(f.a)({},c),{},{room:e.target.value}))}}),s.a.createElement("label",null,"Nurse ID"),s.a.createElement("input",{value:c.nurseId,onChange:function(e){i(Object(f.a)(Object(f.a)({},c),{},{nurseId:e.target.value}))}}),s.a.createElement(h.a,{onClick:function(){return o.apply(this,arguments)},variant:"contained"},"Submit"))}function ge(e){var t=Object(d.f)(),a=Object(n.useContext)(O);return s.a.createElement(s.a.Fragment,null,s.a.createElement("span",{className:e.buttonClass},s.a.createElement(h.a,{onClick:function(){a.setNurseContext("nurseSharedId",""),t.push(e.to)}},s.a.createElement(p.a,{variant:"h6",className:e.typoClass},e.name))))}var fe=function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(i.a)(this,a),(n=t.call(this,e)).state={loading:!0,nurse:{firstname:"",lastname:"",department:"",password:""}},n.firstnameHandleChange=n.firstnameHandleChange.bind(Object(M.a)(n)),n.lastnameHandleChange=n.lastnameHandleChange.bind(Object(M.a)(n)),n.passwordHandleChange=n.passwordHandleChange.bind(Object(M.a)(n)),n.departmentHandleChange=n.departmentHandleChange.bind(Object(M.a)(n)),n.handleOnSubmit=n.handleOnSubmit.bind(Object(M.a)(n)),n}return Object(o.a)(a,[{key:"firstnameHandleChange",value:function(e){this.setState({nurse:Object(f.a)(Object(f.a)({},this.state.nurse),{},{firstname:e.target.value})})}},{key:"lastnameHandleChange",value:function(e){this.setState({nurse:Object(f.a)(Object(f.a)({},this.state.nurse),{},{lastname:e.target.value})})}},{key:"passwordHandleChange",value:function(e){this.setState({nurse:Object(f.a)(Object(f.a)({},this.state.nurse),{},{password:e.target.value})})}},{key:"departmentHandleChange",value:function(e){this.setState({nurse:Object(f.a)(Object(f.a)({},this.state.nurse),{},{department:e.target.value})})}},{key:"handleOnSubmit",value:function(){var e=Object(g.a)(v.a.mark((function e(t){var a,n=this;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:"http://localhost:8080/register",a={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(this.state.nurse)},fetch("http://localhost:8080/register",a).then((function(e){return e.json()})).then((function(e){n.context.setNurseContext("nurseSharedId",e.nurseId),n.props.history.push("".concat(n.props.match.url,"/nurseprofile"))}));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"render",value:function(){return s.a.createElement(s.a.Fragment,null,s.a.createElement("div",{className:"NurseProfile-page"},s.a.createElement(w.a,{container:!0,spacing:2},s.a.createElement(w.a,{item:!0,xs:12,sm:12,md:6,lg:6},s.a.createElement(k.a,{type:"text",name:"firstName",label:"First Name",variant:"outlined",value:this.state.nurse.firstname,onChange:this.firstnameHandleChange})),s.a.createElement(w.a,{item:!0,xs:12,sm:12,md:6,lg:6},s.a.createElement(k.a,{type:"text",name:"lastName",label:"Last Name",variant:"outlined",value:this.state.nurse.lastname,onChange:this.lastnameHandleChange})),s.a.createElement(w.a,{item:!0,xs:12,sm:12,md:6,lg:6},s.a.createElement(k.a,{type:"text",name:"department",label:"Department",variant:"outlined",value:this.state.nurse.department,onChange:this.departmentHandleChange})),s.a.createElement(w.a,{item:!0,xs:12,sm:12,md:6,lg:6},s.a.createElement(k.a,{type:"text",name:"password",label:"password",variant:"outlined",value:this.state.nurse.password,onChange:this.passwordHandleChange})),s.a.createElement(w.a,{item:!0,xs:12,sm:12,md:12,lg:12},s.a.createElement(h.a,{variant:"contained",onClick:this.handleOnSubmit},"Save Changes")))))}}]),a}(s.a.Component);fe.contextType=O;var Ie=Object(d.h)(fe),Oe=[{name:"Home Page",to:"",typoClass:"App-NavHeader-typo",buttonClass:"HomePage-Button"},{name:"Login",to:"login",typoClass:"App-NavHeader-typo",buttonClass:""},{name:"Register",to:"register",typoClass:"App-NavHeader-typo",buttonClass:""}],je=[{name:"Profile",to:"nurseProfile",typoClass:"App-NavHeader-typo"},{name:"Tests",to:"test",typoClass:"App-NavHeader-typo"},{name:"Patients",to:"patient",typoClass:"App-NavHeader-typo"}],ye={name:"Logout",to:"",typoClass:"App-NavHeader-typo"},Ce=function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(){var e;return Object(i.a)(this,a),(e=t.call(this)).setAppBarBeforeLogin=function(){var t=e.props.match.url;return Oe.map((function(e,a){return s.a.createElement(E,{key:a,name:e.name,click:"".concat(t).concat(e.to),buttonClass:e.buttonClass,typoClass:e.typoClass})}))},e.setAppBarAfterLogin=function(){var t=e.props.match.url;return je.map((function(e,a){return s.a.createElement(w.a,{key:a,container:!0,item:!0,xs:12,sm:6,lg:3,md:3},s.a.createElement(E,{key:a,name:e.name,click:"".concat(t).concat(e.to),typoClass:e.typoClass}))}))},e.setAppBar=function(t){var a=ye,n=e.props.match.url;return""===t.nurseSharedId?e.setAppBarBeforeLogin():s.a.createElement(s.a.Fragment,null,e.setAppBarAfterLogin(),s.a.createElement(ge,{name:a.name,to:"".concat(n).concat(a.to),typoClass:a.typoClass}))},e.copyright=function(){return s.a.createElement(p.a,{variant:"body2",color:"textSecondary",align:"center"},"Copyright \xa9 ","TingLi Website"," ",(new Date).getFullYear(),".")},e.profilePage=function(){return s.a.createElement(w.a,{container:!0,spacing:3,style:{paddingLeft:"10%"}},s.a.createElement(w.a,{item:!0,xs:12,sm:12,md:12,lg:12},s.a.createElement(B,null)))},e.state={nurseSharedId:"",patient:{},test:{},setNurseContext:function(t,a){e.setState(Object(c.a)({},t,a))}},e}return Object(o.a)(a,[{key:"render",value:function(){var e=this,t=this.props.match.path;return console.log(this.props.match),s.a.createElement(s.a.Fragment,null,s.a.createElement("header",{className:"header-css"},s.a.createElement("div",{className:"header-css"}),"Nurse Patient Tests Management System"),s.a.createElement(O.Provider,{value:this.state},s.a.createElement("body",{className:"App-body"},s.a.createElement(L.a,{position:"static"},s.a.createElement(D.a,null,s.a.createElement(O.Consumer,null,(function(t){return e.setAppBar(t)})))),s.a.createElement(d.c,null,s.a.createElement(d.a,{exact:!0,path:"".concat(t)},s.a.createElement(F,null)),s.a.createElement(d.a,{exact:!0,path:"".concat(t,"login")},s.a.createElement(P,{parentPath:t})),s.a.createElement(d.a,{exact:!0,path:"".concat(t,"register")},s.a.createElement(Ie,null)),s.a.createElement(d.a,{exact:!0,path:"".concat(t,"test")},s.a.createElement(z,null)),s.a.createElement(d.a,{exact:!0,path:"".concat(t,"nurseprofile")},this.profilePage()),s.a.createElement(d.a,{exact:!0,path:"".concat(t,"patient")},s.a.createElement(re,null)),s.a.createElement(d.a,{exact:!0,path:"".concat(t,"test/testdetails")},s.a.createElement(me,null)),s.a.createElement(d.a,{exact:!0,path:"".concat(t,"test/createnewtest")},s.a.createElement(he,null)),s.a.createElement(d.a,{exact:!0,path:"".concat(t,"test/alltests")},s.a.createElement(pe,null)),s.a.createElement(d.a,{exact:!0,path:"".concat(t,"patient/createnewpatient")},s.a.createElement(be,null)),s.a.createElement(d.a,{path:"".concat(t,"patient/:id")},s.a.createElement(ve,null))))),s.a.createElement("footer",null,s.a.createElement(A.a,{mt:8},this.copyright())))}}]),a}(n.Component),xe=Object(d.h)(Ce);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l.a.render(s.a.createElement(s.a.StrictMode,null,s.a.createElement(j.a,null,s.a.createElement(xe,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},91:function(e,t,a){e.exports=a(105)},96:function(e,t,a){},97:function(e,t,a){}},[[91,1,2]]]);
//# sourceMappingURL=main.196f9d52.chunk.js.map