(this["webpackJsonpnurse-patient-test-management"]=this["webpackJsonpnurse-patient-test-management"]||[]).push([[0],{105:function(e,t,a){"use strict";a.r(t);var n=a(0),s=a.n(n),r=a(11),l=a.n(r),i=(a(96),a(53)),c=a(20),o=a(21),u=a(23),m=a(22),d=(a(97),a(14)),h=a(134),p=a(107),E=Object(d.g)((function(e){return s.a.createElement(s.a.Fragment,null,s.a.createElement("span",{className:e.buttonClass},s.a.createElement(h.a,{onClick:function(){return console.log(e.click),e.history.push(e.click)}},s.a.createElement(p.a,{variant:"h6",className:e.typoClass},e.name))))})),g=a(17),v=a(13),b=a.n(v),f=a(18),I=a(5),O=a(33),j=s.a.createContext({nurseSharedId:"",patient:{},test:{},setNurseContext:function(){}}),y=a(137),C=a(138),x=a(139),N=a(157),k=a(158),T=a(143),S=a(156),H=a(144),w=a(76),P=a.n(w);function R(){var e=Object(n.useContext)(j),t=Object(d.f)(),a=Object(n.useState)({nurseSharedId:"",password:"",idError:!1,idErrorMessage:"",passwordError:!1,passwordErrorMessage:""}),r=Object(O.a)(a,2),l=r[0],i=r[1];function c(){return(c=Object(f.a)(b.a.mark((function a(n){var s,r,c;return b.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return s="http://localhost:8080/nurse/".concat(l.nurseSharedId),a.next=3,fetch(s);case 3:return r=a.sent,a.next=6,r.json();case 6:null!=(c=a.sent)?l.password===c.password?(e.setNurseContext("nurseSharedId",l.nurseSharedId),t.push("/NurseProfile")):i(Object(I.a)(Object(I.a)({},l),{},{passwordError:!0,passwordErrorMessage:"Password not match"})):i(Object(I.a)(Object(I.a)({},l),{},{idError:!0,idErrorMessage:"ID not Exist"})),n.preventDefault();case 9:case"end":return a.stop()}}),a)})))).apply(this,arguments)}var o=Object(y.a)((function(e){return{paper:{marginTop:e.spacing(3),display:"flex",flexDirection:"column",alignItems:"center"},avatar:{margin:e.spacing(1),backgroundColor:e.palette.secondary.main},form:{width:"100%"},submit:{margin:e.spacing(3,0,2)}}}))();return s.a.createElement(s.a.Fragment,null,s.a.createElement(C.a,{component:"main",maxWidth:"xs"},s.a.createElement(x.a,null),s.a.createElement("div",{className:o.paper},s.a.createElement(N.a,{className:o.avatar},s.a.createElement(P.a,null)),s.a.createElement(p.a,{component:"h1",variant:"h5"},"Sign in"),s.a.createElement("form",{className:o.form},s.a.createElement(k.a,{error:l.idError,variant:"outlined",margin:"normal",required:!0,fullWidth:!0,id:"nurseId",label:"Nurse ID",name:"nurseId",helperText:l.idErrorMessage,autoFocus:!0,value:l.nurseSharedId,onChange:function(e){i(Object(I.a)(Object(I.a)({},l),{},{nurseSharedId:e.target.value,idError:!1,idErrorMessage:""}))}}),s.a.createElement(k.a,{error:l.passwordError,variant:"outlined",margin:"normal",required:!0,fullWidth:!0,name:"password",label:"Password",type:"password",id:"password",autoComplete:"current-password",helperText:l.passwordErrorMessage,value:l.password,onChange:function(e){i(Object(I.a)(Object(I.a)({},l),{},{password:e.target.value,passwordError:!1,passwordErrorMessage:""}))}}),s.a.createElement(T.a,{control:s.a.createElement(S.a,{value:"remember",color:"primary"}),label:"Remember me"}),s.a.createElement(h.a,{fullWidth:!0,variant:"contained",color:"primary",className:o.submit,onClick:function(e){return c.apply(this,arguments)}},"Sign In"),s.a.createElement(H.a,{container:!0},s.a.createElement(H.a,{item:!0},s.a.createElement(g.b,{to:"/Register",variant:"body2"},"Don't have an account? Register")))))))}var L=function(){return s.a.createElement(s.a.Fragment,null,s.a.createElement("p",null,"* This page is an individual react practice page"),s.a.createElement("p",null,"* It is built for helping nurse manage the tests and patients"),s.a.createElement("p",null,"* Nurse can find the tests and patients information after login the system"),s.a.createElement("p",null,"* Nurse can also create and retrieve the tests of each patient"),s.a.createElement("p",null,"* Database is Oracle SQL database"))},M=a(152),F=a(153),D=a(155),A=a(8),B=function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(c.a)(this,a),(n=t.call(this,e)).state={loading:!0,nurse:{firstname:"",lastname:"",department:"",password:""}},n.firstnameHandleChange=n.firstnameHandleChange.bind(Object(A.a)(n)),n.lastnameHandleChange=n.lastnameHandleChange.bind(Object(A.a)(n)),n.passwordHandleChange=n.passwordHandleChange.bind(Object(A.a)(n)),n.departmentHandleChange=n.departmentHandleChange.bind(Object(A.a)(n)),n.handleOnSubmit=n.handleOnSubmit.bind(Object(A.a)(n)),n}return Object(o.a)(a,[{key:"componentDidMount",value:function(){var e=Object(f.a)(b.a.mark((function e(){var t,a,n,s;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.context.nurseSharedId,a="http://localhost:8080/nurse/".concat(t),console.log("context",this.context),e.next=5,fetch(a);case 5:return n=e.sent,e.next=8,n.json();case 8:s=e.sent,this.setState({loading:!1,nurse:s});case 10:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"firstnameHandleChange",value:function(e){this.setState({nurse:Object(I.a)(Object(I.a)({},this.state.nurse),{},{firstname:e.target.value})})}},{key:"lastnameHandleChange",value:function(e){this.setState({nurse:Object(I.a)(Object(I.a)({},this.state.nurse),{},{lastname:e.target.value})})}},{key:"passwordHandleChange",value:function(e){this.setState({nurse:Object(I.a)(Object(I.a)({},this.state.nurse),{},{password:e.target.value})})}},{key:"departmentHandleChange",value:function(e){this.setState({nurse:Object(I.a)(Object(I.a)({},this.state.nurse),{},{department:e.target.value})})}},{key:"handleOnSubmit",value:function(){var e=Object(f.a)(b.a.mark((function e(t){var a,n,s;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=this.context.nurseSharedId,n="http://localhost:8080/nurse/".concat(a),s={method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(this.state.nurse)},fetch(n,s).then((function(e){return e.json()}));case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"render",value:function(){return s.a.createElement(s.a.Fragment,null,s.a.createElement("div",{className:"NurseProfile-page"},this.state.loading||!this.state.nurse?s.a.createElement("div",null,"Loading..."):s.a.createElement(H.a,{container:!0,spacing:2},s.a.createElement(H.a,{item:!0,xs:12,sm:12,md:6,lg:6},s.a.createElement(k.a,{type:"text",name:"nurseId",label:"Nurse ID",variant:"outlined",value:this.context.nurseSharedId,disabled:!0})),s.a.createElement(H.a,{item:!0,xs:12,sm:12,md:6,lg:6},s.a.createElement(k.a,{type:"text",name:"firstName",label:"First Name",variant:"outlined",value:this.state.nurse.firstname,onChange:this.firstnameHandleChange})),s.a.createElement(H.a,{item:!0,xs:12,sm:12,md:6,lg:6},s.a.createElement(k.a,{type:"text",name:"lastName",label:"Last Name",variant:"outlined",value:this.state.nurse.lastname,onChange:this.lastnameHandleChange})),s.a.createElement(H.a,{item:!0,xs:12,sm:12,md:6,lg:6},s.a.createElement(k.a,{type:"text",name:"department",label:"Department",variant:"outlined",value:this.state.nurse.department,onChange:this.departmentHandleChange})),s.a.createElement(H.a,{item:!0,xs:12,sm:12,md:6,lg:6},s.a.createElement(k.a,{type:"text",name:"password",label:"password",variant:"outlined",value:this.state.nurse.password,onChange:this.passwordHandleChange})),s.a.createElement(H.a,{item:!0,xs:12,sm:12,md:12,lg:12},s.a.createElement(h.a,{variant:"contained",color:"primary",onClick:this.handleOnSubmit},"Save Changes")))))}}]),a}(s.a.Component);B.contextType=j;var V=a(81),J=a(77),W=a.n(J),_=a(78),z=Object(y.a)((function(e){return{root:{"& > *":{marginTop:e.spacing(5),marginRight:"auto",marginLeft:"auto",width:e.spacing(130)}},button:{marginTop:e.spacing(5),marginRight:"auto",marginLeft:"auto",width:e.spacing(30)}}})),U=Object(_.a)({palette:{customizeTable:{main:"#5c6ac4"}}}),q=(Object(y.a)((function(e){return{root:{"& > *":{marginTop:e.spacing(5),marginRight:"auto",marginLeft:"auto",height:e.spacing(60)}}}})),function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(c.a)(this,a),(n=t.call(this,e)).state={searchValue:""},n.handleOnChange=n.handleOnChange.bind(Object(A.a)(n)),n.searchTestByPatient=n.searchTestByPatient.bind(Object(A.a)(n)),n.createTest=n.createTest.bind(Object(A.a)(n)),n.showAllTest=n.showAllTest.bind(Object(A.a)(n)),n}return Object(o.a)(a,[{key:"componentDidMount",value:function(){this.context.setNurseContext("searchValue","")}},{key:"handleOnChange",value:function(e){this.setState({searchValue:e.target.value})}},{key:"createTest",value:function(){this.props.history.push("/TestManagement/createNewTest")}},{key:"searchTestByPatient",value:function(e){13===(e.keyCode||e.which)&&(this.props.history.push("/TestManagement/testListPage"),this.context.setNurseContext("searchMethod","patientId"),this.context.setNurseContext("searchValue",this.state.searchValue))}},{key:"showAllTest",value:function(){this.props.history.push("/TestManagement/allTestListPage"),this.context.setNurseContext("searchMethod","all")}},{key:"render",value:function(){return s.a.createElement(s.a.Fragment,null,s.a.createElement("div",{className:"NurseProfile-page"},s.a.createElement(H.a,{container:!0,spacing:3},s.a.createElement(H.a,{item:!0,xs:12,sm:12,md:6,lg:6},s.a.createElement(W.a,null),s.a.createElement(V.a,{variant:"outlined",placeholder:"Search by Patient Id",name:"searchByPatientId",onChange:this.handleOnChange,onKeyPress:this.searchTestByPatient})),s.a.createElement(H.a,{item:!0,xs:12,sm:12,md:6,lg:6},s.a.createElement(h.a,{variant:"contained",onClick:this.createTest},"Create New Test")),s.a.createElement(H.a,{item:!0,xs:12,sm:12,md:6,lg:6},s.a.createElement(h.a,{variant:"contained",onClick:this.showAllTest},"Find All Tests By Nurse")))))}}]),a}(s.a.Component));q.contextType=j;var K=Object(d.g)(q),Q=a(148),Y=a(108),$=a(149),G=a(150),X=a(146),Z=a(151),ee=a(147),te=a(145),ae=a(4),ne=Object(ae.a)((function(e){return{head:{backgroundColor:e.palette.customizeTable.main,color:e.palette.common.white,fontSize:20},body:{fontSize:20}}}))(te.a),se=Object(ae.a)((function(e){return{root:{"&:nth-of-type(odd)":{backgroundColor:e.palette.action.hover}}}}))(X.a),re=Object(d.g)((function(e){var t=e.history,a=Object(n.useState)([]),r=Object(O.a)(a,2),l=r[0],i=r[1],c=Object(n.useContext)(j),o=z(),u=U;function m(e){return d.apply(this,arguments)}function d(){return(d=Object(f.a)(b.a.mark((function e(t){var a,n,s;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a="http://localhost:8080/nurse/".concat(t,"/patients"),e.next=3,fetch(a);case 3:return n=e.sent,e.next=6,n.json();case 6:return s=e.sent,e.next=9,i(s);case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}Object(n.useEffect)((function(){m(c.nurseSharedId)}),[]);return s.a.createElement(s.a.Fragment,null,s.a.createElement(ee.a,{theme:u},s.a.createElement("div",{className:o.root},s.a.createElement(Q.a,{component:Y.a,elevation:5},s.a.createElement($.a,null,s.a.createElement(G.a,null,s.a.createElement(X.a,null,s.a.createElement(ne,null,"Patient Id"),s.a.createElement(ne,null,"First Name"),s.a.createElement(ne,null,"Last Name"),s.a.createElement(ne,null,"Department"),s.a.createElement(ne,null,"Responsible By Nurse"),s.a.createElement(ne,null,"Room"),s.a.createElement(ne,null,"Tests"),s.a.createElement(ne,null,"Edit/Delete"))),s.a.createElement(Z.a,null,l.length>0&&l.map((function(e,t){return s.a.createElement(se,{key:t,scope:"row"},s.a.createElement(ne,null,e.patientId),s.a.createElement(ne,null,e.firstName),s.a.createElement(ne,null,e.lastName),s.a.createElement(ne,null,e.department),s.a.createElement(ne,null,e.nurseId),s.a.createElement(ne,null,e.room),s.a.createElement(ne,null,s.a.createElement(g.b,{to:"/TestManagement/testListPage",onClick:function(){return t=e.patientId,console.log(t),console.log(c),c.setNurseContext("searchMethod","patientId"),c.setNurseContext("searchValue",t),void console.log(c);var t}},"Find Tests")," ","|"),s.a.createElement(ne,null,s.a.createElement(g.b,{to:"/PatientManagement/Patient/".concat(e.patientId),onClick:function(){return t=e,void c.setNurseContext("patient",t);var t}},"Edit")," ","|",s.a.createElement("input",{type:"button",onClick:function(){return t="http://localhost:8080/patients/paitent_".concat(e.patientId),a=e.nurseId,fetch(t,{method:"DELETE"}).then((function(e){e.ok&&m(a)}));var t,a},value:"Delete"})))}))))))),s.a.createElement("div",{className:o.button},s.a.createElement(h.a,{onClick:function(){t.push("/PatientManagement/createNewPatient")}},"Add New Patient")))})),le=a(142),ie=a(160),ce=a(154),oe=a(161),ue=function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(c.a)(this,a),(n=t.call(this,e)).state={test:{testId:"",nurseId:"",patientId:"",testItemId:"",testResult:"",date:""},backupTest:{testId:"",nurseId:"",patientId:"",testItemId:"",testResult:"",date:""},loading:!0,testItemloading:!0,testItems:[],nurseIdError:!1,patientIdError:!1,dateError:!1,testItemIdError:!1,testResultError:!1,patientList:[],patientLoading:!0},n.submitForm=n.submitForm.bind(Object(A.a)(n)),n.nurseIdEventHandler=n.nurseIdEventHandler.bind(Object(A.a)(n)),n.patientIdEventHandler=n.patientIdEventHandler.bind(Object(A.a)(n)),n.dateEventHandler=n.dateEventHandler.bind(Object(A.a)(n)),n.cancel=n.cancel.bind(Object(A.a)(n)),n.testItemIdEventHandler=n.testItemIdEventHandler.bind(Object(A.a)(n)),n.testResultEventHandler=n.testResultEventHandler.bind(Object(A.a)(n)),n}return Object(o.a)(a,[{key:"componentDidMount",value:function(){var e=Object(f.a)(b.a.mark((function e(){var t,a,n,s,r,l,i,c,o;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.context.test.testId,a="http://localhost:8080/tests/testId_".concat(t),e.next=4,fetch(a);case 4:return n=e.sent,e.next=7,n.json();case 7:return s=e.sent,n.ok&&this.setState({test:s,backupTest:s,loading:!1}),"http://localhost:8080/TestItem/AllTestItems",e.next=12,fetch("http://localhost:8080/TestItem/AllTestItems");case 12:return r=e.sent,e.next=15,r.json();case 15:return l=e.sent,r.ok&&this.setState({testItems:l,testItemloading:!1}),i="http://localhost:8080/nurse/".concat(this.context.nurseSharedId,"/patients"),e.next=20,fetch(i);case 20:return c=e.sent,e.next=23,c.json();case 23:o=e.sent,c.ok&&this.setState({patientList:o,patientLoading:!1});case 25:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"nurseIdEventHandler",value:function(e){this.setState({test:Object(I.a)(Object(I.a)({},this.state.test),{},{nurseId:e.target.value}),nurseIdError:!1})}},{key:"patientIdEventHandler",value:function(e){this.setState({test:Object(I.a)(Object(I.a)({},this.state.test),{},{patientId:e.target.value}),patientIdError:!1})}},{key:"dateEventHandler",value:function(e){this.setState({test:Object(I.a)(Object(I.a)({},this.state.test),{},{date:e.target.value}),dateError:!1})}},{key:"testItemIdEventHandler",value:function(e){this.setState({test:Object(I.a)(Object(I.a)({},this.state.test),{},{testItemId:e.target.value}),testItemIdError:!1})}},{key:"testResultEventHandler",value:function(e){this.setState({test:Object(I.a)(Object(I.a)({},this.state.test),{},{testResult:e.target.value}),testResultError:!1})}},{key:"submitForm",value:function(){var e=this,t=this.context.test.testId;if(""!==this.state.test.nurseId&&""!==this.state.test.patientId&&""!==this.state.test.date&&""!==this.state.test.testItemId&&""!==this.state.test.testResult){var a="http://localhost:8080//tests/testId_".concat(t);fetch(a,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(this.state.test)}).then((function(t){t.ok&&(e.context.setNurseContext("searchMethod","patientId"),e.context.setNurseContext("searchValue",e.state.test.patientId),e.props.history.push("/TestManagement/allTestListPage"))}))}else""===this.state.test.nurseId&&this.setState({nurseIdError:!0}),""===this.state.test.patientId&&this.setState({patientIdError:!0}),""===this.state.test.date&&this.setState({dateError:!0}),""===this.state.test.testItemId&&this.setState({testItemIdError:!0}),""===this.state.test.testResult&&this.setState({testResultError:!0})}},{key:"cancel",value:function(){this.setState({test:this.state.backupTest})}},{key:"render",value:function(){var e=this;return s.a.createElement(s.a.Fragment,null,s.a.createElement("div",{className:"testPage-page"},this.state.loading||this.state.testItemloading||this.state.patientLoading||0===this.state.testItems.length?s.a.createElement("div",null,"loading..."):s.a.createElement(s.a.Fragment,null,s.a.createElement(H.a,{container:!0,spacing:3},s.a.createElement(H.a,{item:!0,xs:12,sm:12,md:6,lg:6},s.a.createElement(k.a,{name:"nurseId",label:"Test is done by Nurse Id",variant:"outlined",value:this.state.test.nurseId,onChange:this.nurseIdEventHandler,type:"text",error:this.state.nurseIdError})),s.a.createElement(H.a,{item:!0,xs:12,sm:12,md:6,lg:6},s.a.createElement(le.a,{variant:"outlined",className:"createTest-select"},s.a.createElement(ie.a,null,"Patient Id"),s.a.createElement(ce.a,{error:this.state.patientIdError,id:"patientId",value:this.state.test.patientId,label:"Patient Id",onChange:this.patientIdEventHandler},this.state.patientList.length>0?this.state.patientList.map((function(e,t){return s.a.createElement(oe.a,{key:t,value:e.patientId},"".concat(e.patientId," ").concat(e.firstName," ").concat(e.lastName))})):s.a.createElement(oe.a,{value:""},"None")))),s.a.createElement(H.a,{item:!0,xs:12,sm:12,md:6,lg:6},s.a.createElement(le.a,{variant:"outlined",className:"createTest-select"},s.a.createElement(ie.a,null,"Test Item"),s.a.createElement(ce.a,{error:this.state.testItemIdError,id:"testItemId",value:this.state.test.testItemId,label:"Test Item",onChange:this.testItemIdEventHandler},this.state.testItems.map((function(t,a){return console.log("this.state.testItemId",e.state.testItemId),console.log("loadITemId",t.itemId),s.a.createElement(oe.a,{key:a,value:t.itemId},t.itemName)}))))),s.a.createElement(H.a,{item:!0,xs:12,sm:12,md:6,lg:6},s.a.createElement(k.a,{error:this.state.testResultError,type:"text",name:"testResult",variant:"outlined",label:"Test Result",value:this.state.test.testResult,onChange:this.testResultEventHandler})),s.a.createElement(H.a,{item:!0,xs:12,sm:12,md:6,lg:6},s.a.createElement(k.a,{error:this.state.dateError,type:"date",name:"date",variant:"outlined",value:this.state.test.date.split("T",1),onChange:this.dateEventHandler}))),s.a.createElement(H.a,{container:!0,spacing:3},s.a.createElement(H.a,{item:!0,xs:12,sm:12,md:6,lg:6},s.a.createElement(h.a,{color:"primary",onClick:this.submitForm},"Save")),s.a.createElement(H.a,{item:!0,xs:12,sm:12,md:6,lg:6},s.a.createElement(h.a,{color:"secondary",onClick:this.cancel},"Cancel"))))))}}]),a}(s.a.Component);ue.contextType=j;var me=Object(d.g)(ue),de=function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(c.a)(this,a),(n=t.call(this,e)).state={test:{nurseId:"",patientId:"",date:"",testItemId:"",testResult:""},testItems:[],loading:!0,patientList:[],patientLoading:!0,nurseIdError:!1,patientIdError:!1,dateError:!1,testItemIdError:!1,testResultError:!1},n.submitForm=n.submitForm.bind(Object(A.a)(n)),n.nurseIdEventHandler=n.nurseIdEventHandler.bind(Object(A.a)(n)),n.patientIdEventHandler=n.patientIdEventHandler.bind(Object(A.a)(n)),n.dateEventHandler=n.dateEventHandler.bind(Object(A.a)(n)),n.cancel=n.cancel.bind(Object(A.a)(n)),n.testItemIdEventHandler=n.testItemIdEventHandler.bind(Object(A.a)(n)),n.testResultEventHandler=n.testResultEventHandler.bind(Object(A.a)(n)),n}return Object(o.a)(a,[{key:"componentDidMount",value:function(){var e=Object(f.a)(b.a.mark((function e(){var t,a,n,s,r;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"http://localhost:8080/TestItem/AllTestItems",e.next=3,fetch("http://localhost:8080/TestItem/AllTestItems");case 3:return t=e.sent,e.next=6,t.json();case 6:return a=e.sent,this.setState({testItems:a,loading:!1}),n="http://localhost:8080/nurse/".concat(this.context.nurseSharedId,"/patients"),e.next=11,fetch(n);case 11:return s=e.sent,e.next=14,s.json();case 14:r=e.sent,this.setState({patientList:r,patientLoading:!1}),this.context.setNurseContext("searchMethod",""),this.context.setNurseContext("searchValue","");case 18:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"submitForm",value:function(){var e=this;if(""!==this.state.test.nurseId&&""!==this.state.test.patientId&&""!==this.state.test.date&&""!==this.state.test.testItemId&&""!==this.state.test.testResult){fetch("http://localhost:8080/newTest",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(this.state.test)}).then((function(t){t.ok&&(e.state.test.nurseId!==e.context.nurseSharedId?(e.context.setNurseContext("searchMethod","patientId"),e.context.setNurseContext("searchValue",e.state.test.patientId)):e.context.setNurseContext("searchMethod","all"),e.props.history.push("/TestManagement/allTestListPage"),console.log("new Test searchMethod",e.context.searchMethod))}))}else""===this.state.test.nurseId&&this.setState({nurseIdError:!0}),""===this.state.test.patientId&&this.setState({patientIdError:!0}),""===this.state.test.date&&this.setState({dateError:!0}),""===this.state.test.testItemId&&this.setState({testItemIdError:!0}),""===this.state.test.testResult&&this.setState({testResultError:!0})}},{key:"cancel",value:function(){this.setState({test:{nurseId:"",patientId:"",date:"",testItemId:"",testResult:""},nurseIdError:!0,patientIdError:!0,dateError:!0,testItemIdError:!0,testResultError:!0})}},{key:"nurseIdEventHandler",value:function(e){this.setState({test:Object(I.a)(Object(I.a)({},this.state.test),{},{nurseId:e.target.value}),nurseIdError:!1})}},{key:"patientIdEventHandler",value:function(e){this.setState({test:Object(I.a)(Object(I.a)({},this.state.test),{},{patientId:e.target.value}),patientIdError:!1})}},{key:"dateEventHandler",value:function(e){this.setState({test:Object(I.a)(Object(I.a)({},this.state.test),{},{date:e.target.value}),dateError:!1})}},{key:"testItemIdEventHandler",value:function(e){this.setState({test:Object(I.a)(Object(I.a)({},this.state.test),{},{testItemId:e.target.value}),testItemIdError:!1})}},{key:"testResultEventHandler",value:function(e){this.setState({test:Object(I.a)(Object(I.a)({},this.state.test),{},{testResult:e.target.value}),testResultError:!1})}},{key:"render",value:function(){return s.a.createElement(s.a.Fragment,null,s.a.createElement("div",{className:"testPage-page"},this.state.loading||0===this.state.testItems.length?s.a.createElement("div",null,"loading..."):s.a.createElement(s.a.Fragment,null,s.a.createElement(H.a,{container:!0,spacing:3},s.a.createElement(H.a,{item:!0,xs:12,sm:12,md:6,lg:6},s.a.createElement(k.a,{name:"nurseId",label:"Test is done by Nurse Id",variant:"outlined",value:this.state.test.nurseId,onChange:this.nurseIdEventHandler,type:"text",error:this.state.nurseIdError})),s.a.createElement(H.a,{item:!0,xs:12,sm:12,md:6,lg:6},s.a.createElement(le.a,{variant:"outlined",className:"createTest-select"},s.a.createElement(ie.a,null,"Patient Id"),s.a.createElement(ce.a,{error:this.state.patientIdError,id:"patientId",value:this.state.test.patientId,label:"Patient Id",onChange:this.patientIdEventHandler},this.state.patientList.length>0?this.state.patientList.map((function(e,t){return s.a.createElement(oe.a,{key:t,value:e.patientId},"".concat(e.patientId," ").concat(e.firstName," ").concat(e.lastName))})):s.a.createElement(oe.a,{value:""},"None")))),s.a.createElement(H.a,{item:!0,xs:12,sm:12,md:6,lg:6},s.a.createElement(le.a,{variant:"outlined",className:"createTest-select"},s.a.createElement(ie.a,null,"Test Item"),s.a.createElement(ce.a,{error:this.state.testItemIdError,value:this.state.testItemId,label:"Test Item",onChange:this.testItemIdEventHandler},this.state.testItems.map((function(e,t){return s.a.createElement(oe.a,{key:t,value:e.itemId},e.itemName)}))))),s.a.createElement(H.a,{item:!0,xs:12,sm:12,md:6,lg:6},s.a.createElement(k.a,{error:this.state.testResultError,type:"text",name:"testResult",variant:"outlined",label:"Test Result",value:this.state.test.testResult,onChange:this.testResultEventHandler})),s.a.createElement(H.a,{item:!0,xs:12,sm:12,md:6,lg:6},s.a.createElement(k.a,{error:this.state.dateError,type:"date",name:"date",variant:"outlined",value:this.state.test.date,onChange:this.dateEventHandler}))),s.a.createElement(H.a,{container:!0,spacing:3},s.a.createElement(H.a,{item:!0,xs:12,sm:12,md:6,lg:6},s.a.createElement(h.a,{onClick:this.submitForm,color:"primary"},"Submit")),s.a.createElement(H.a,{item:!0,xs:12,sm:12,md:6,lg:6},s.a.createElement(h.a,{onClick:this.cancel,color:"secondary"},"Cancel"))))))}}]),a}(s.a.Component);de.contextType=j;var he=Object(d.g)(de);function pe(){var e=Object(n.useState)([]),t=Object(O.a)(e,2),a=t[0],r=t[1],l=Object(n.useState)(!1),i=Object(O.a)(l,2),c=i[0],o=i[1],u=Object(n.useContext)(j),m=z(),d=U;Object(n.useEffect)((function(){console.log("test Type",u.searchMethod);var e=u.nurseSharedId,t=u.searchMethod;!function(){var a="";if("patientId"===t){var n=u.searchValue;a="http://localhost:8080/tests/patientId_".concat(n)}else a="http://localhost:8080/tests/nurseId_".concat(e);fetch(a).then((function(e){return e.json()})).then((function(e){return r(e)})),o(!1)}(),console.log(u.searchValue)}),[c]);return s.a.createElement(s.a.Fragment,null,s.a.createElement(ee.a,{theme:d},s.a.createElement("div",{className:m.root},s.a.createElement(Q.a,{component:Y.a,elevation:5},s.a.createElement($.a,{"aria-label":"test table"},s.a.createElement(G.a,null,s.a.createElement(X.a,null,s.a.createElement(ne,null,"Test Id"),s.a.createElement(ne,null,"Operated by Nurse Id"),s.a.createElement(ne,null,"Test Items"),s.a.createElement(ne,null,"Test Results"),s.a.createElement(ne,null,"Test Date"),s.a.createElement(ne,null,"Edit/Delete"))),s.a.createElement(Z.a,null,a.length>0&&a.map((function(e,t){return s.a.createElement(se,{key:t,scope:"row"},s.a.createElement(ne,null,e.testId),s.a.createElement(ne,null,e.nurseId),s.a.createElement(ne,null,e.testItemId),s.a.createElement(ne,null,e.testResult),s.a.createElement(ne,null,e.date.split("T",1)),s.a.createElement(ne,null,s.a.createElement(g.b,{to:"/TestManagement/TestDetails",onClick:function(){return function(e){u.setNurseContext("test",e)}(e)}},"Edit"),s.a.createElement("input",{type:"button",onClick:function(){return t="http://localhost:8080/tests/testId_".concat(e.testId),fetch(t,{method:"DELETE"}).then((function(e){e.ok&&o(!0)}));var t},value:"Delete"})))}))))))))}var Ee=function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(c.a)(this,a),(n=t.call(this,e)).state={patient:{firstName:"",lastName:"",room:"",nurseId:"",department:""}},n.firstNameEventHandler=n.firstNameEventHandler.bind(Object(A.a)(n)),n.lastNameEventHandler=n.lastNameEventHandler.bind(Object(A.a)(n)),n.roomEventHandler=n.roomEventHandler.bind(Object(A.a)(n)),n.departmentEventHandler=n.departmentEventHandler.bind(Object(A.a)(n)),n.submitForm=n.submitForm.bind(Object(A.a)(n)),n}return Object(o.a)(a,[{key:"componentDidMount",value:function(){this.setState({patient:Object(I.a)(Object(I.a)({},this.state.patient),{},{nurseId:this.context.nurseSharedId})})}},{key:"firstNameEventHandler",value:function(e){this.setState({patient:Object(I.a)(Object(I.a)({},this.state.patient),{},{firstName:e.target.value})})}},{key:"lastNameEventHandler",value:function(e){this.setState({patient:Object(I.a)(Object(I.a)({},this.state.patient),{},{lastName:e.target.value})})}},{key:"roomEventHandler",value:function(e){this.setState({patient:Object(I.a)(Object(I.a)({},this.state.patient),{},{room:e.target.value})})}},{key:"departmentEventHandler",value:function(e){this.setState({patient:Object(I.a)(Object(I.a)({},this.state.patient),{},{department:e.target.value})})}},{key:"submitForm",value:function(e){fetch("http://localhost:8080/nurse/1/newPatient",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(this.state.patient)}).then((function(e){return e.json}))}},{key:"render",value:function(){return s.a.createElement(s.a.Fragment,null,s.a.createElement("div",{className:"NurseProfile-page"},s.a.createElement(H.a,{container:!0,spacing:3},s.a.createElement(H.a,{item:!0,xs:12,sm:12,md:6,lg:6},s.a.createElement(k.a,{name:"firstName",variant:"outlined",label:"First Name",value:this.state.patient.firstName,onChange:this.firstNameEventHandler})),s.a.createElement(H.a,{item:!0,xs:12,sm:12,md:6,lg:6},s.a.createElement(k.a,{name:"lastName",variant:"outlined",label:"Last Name",value:this.state.patient.lastName,onChange:this.lastNameEventHandler})),s.a.createElement(H.a,{item:!0,xs:12,sm:12,md:6,lg:6},s.a.createElement(k.a,{name:"room",variant:"outlined",label:"Room",value:this.state.patient.room,onChange:this.roomEventHandler})),s.a.createElement(H.a,{item:!0,xs:12,sm:12,md:6,lg:6},s.a.createElement(k.a,{name:"nurseId",variant:"outlined",label:"Nurse ID",value:this.state.patient.nurseId,disabled:!0})),s.a.createElement(H.a,{item:!0,xs:12,sm:12,md:6,lg:6},s.a.createElement(k.a,{name:"department",variant:"outlined",label:"Department",value:this.state.patient.department,disabled:!1})),s.a.createElement(H.a,{item:!0,xs:12,sm:12,md:12,lg:12},s.a.createElement(h.a,{onClick:this.submitForm},"Submit")))))}}]),a}(s.a.Component);Ee.contextType=j;var ge=Ee;function ve(){var e=Object(n.useContext)(j).patient,t=Object(n.useState)({firstName:e.firstName,lastName:e.lastName,department:e.department,room:e.room,nurseId:e.nurseId}),a=Object(O.a)(t,2),r=a[0],l=a[1];function i(){return(i=Object(f.a)(b.a.mark((function t(){var a,n,s;return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:a=e.patientId,n="http://localhost:8080/patients/patient_".concat(a),s={method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(r)},fetch(n,s).then((function(e){return e.json()}));case 4:case"end":return t.stop()}}),t)})))).apply(this,arguments)}return s.a.createElement(s.a.Fragment,null,s.a.createElement("label",null,"First Name"),s.a.createElement("input",{value:r.firstName,onChange:function(e){l(Object(I.a)(Object(I.a)({},r),{},{firstName:e.target.value}))}}),s.a.createElement("label",null,"Last Name"),s.a.createElement("input",{value:r.lastName,onChange:function(e){l(Object(I.a)(Object(I.a)({},r),{},{lastName:e.target.value}))}}),s.a.createElement("label",null,"Department"),s.a.createElement("input",{value:r.department,onChange:function(e){l(Object(I.a)(Object(I.a)({},r),{},{department:e.target.value}))}}),s.a.createElement("label",null,"Room"),s.a.createElement("input",{value:r.room,onChange:function(e){l(Object(I.a)(Object(I.a)({},r),{},{room:e.target.value}))}}),s.a.createElement("label",null,"Nurse ID"),s.a.createElement("input",{value:r.nurseId,onChange:function(e){l(Object(I.a)(Object(I.a)({},r),{},{nurseId:e.target.value}))}}),s.a.createElement(h.a,{onClick:function(){return i.apply(this,arguments)},variant:"contained"},"Submit"))}function be(e){var t=Object(d.f)(),a=Object(n.useContext)(j);return s.a.createElement(s.a.Fragment,null,s.a.createElement("span",{className:e.buttonClass},s.a.createElement(h.a,{onClick:function(){a.setNurseContext("nurseSharedId",""),t.push(e.to)}},s.a.createElement(p.a,{variant:"h6",className:e.typoClass},e.name))))}var fe=function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(c.a)(this,a),(n=t.call(this,e)).state={loading:!0,nurse:{firstname:"",lastname:"",department:"",password:""}},n.firstnameHandleChange=n.firstnameHandleChange.bind(Object(A.a)(n)),n.lastnameHandleChange=n.lastnameHandleChange.bind(Object(A.a)(n)),n.passwordHandleChange=n.passwordHandleChange.bind(Object(A.a)(n)),n.departmentHandleChange=n.departmentHandleChange.bind(Object(A.a)(n)),n.handleOnSubmit=n.handleOnSubmit.bind(Object(A.a)(n)),n}return Object(o.a)(a,[{key:"firstnameHandleChange",value:function(e){this.setState({nurse:Object(I.a)(Object(I.a)({},this.state.nurse),{},{firstname:e.target.value})})}},{key:"lastnameHandleChange",value:function(e){this.setState({nurse:Object(I.a)(Object(I.a)({},this.state.nurse),{},{lastname:e.target.value})})}},{key:"passwordHandleChange",value:function(e){this.setState({nurse:Object(I.a)(Object(I.a)({},this.state.nurse),{},{password:e.target.value})})}},{key:"departmentHandleChange",value:function(e){this.setState({nurse:Object(I.a)(Object(I.a)({},this.state.nurse),{},{department:e.target.value})})}},{key:"handleOnSubmit",value:function(){var e=Object(f.a)(b.a.mark((function e(t){var a,n=this;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:"http://localhost:8080/register",a={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(this.state.nurse)},fetch("http://localhost:8080/register",a).then((function(e){return e.json()})).then((function(e){n.context.setNurseContext("nurseSharedId",e.nurseId),n.props.history.push("/NurseProfile")}));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"render",value:function(){return s.a.createElement(s.a.Fragment,null,s.a.createElement("div",{className:"NurseProfile-page"},s.a.createElement(H.a,{container:!0,spacing:2},s.a.createElement(H.a,{item:!0,xs:12,sm:12,md:6,lg:6},s.a.createElement(k.a,{type:"text",name:"firstName",label:"First Name",variant:"outlined",value:this.state.nurse.firstname,onChange:this.firstnameHandleChange})),s.a.createElement(H.a,{item:!0,xs:12,sm:12,md:6,lg:6},s.a.createElement(k.a,{type:"text",name:"lastName",label:"Last Name",variant:"outlined",value:this.state.nurse.lastname,onChange:this.lastnameHandleChange})),s.a.createElement(H.a,{item:!0,xs:12,sm:12,md:6,lg:6},s.a.createElement(k.a,{type:"text",name:"department",label:"Department",variant:"outlined",value:this.state.nurse.department,onChange:this.departmentHandleChange})),s.a.createElement(H.a,{item:!0,xs:12,sm:12,md:6,lg:6},s.a.createElement(k.a,{type:"text",name:"password",label:"password",variant:"outlined",value:this.state.nurse.password,onChange:this.passwordHandleChange})),s.a.createElement(H.a,{item:!0,xs:12,sm:12,md:12,lg:12},s.a.createElement(h.a,{variant:"contained",onClick:this.handleOnSubmit},"Save Changes")))))}}]),a}(s.a.Component);fe.contextType=j;var Ie=Object(d.g)(fe),Oe=[{name:"Home Page",to:"/",typoClass:"App-NavHeader-typo",buttonClass:"HomePage-Button"},{name:"Login",to:"/Login",typoClass:"App-NavHeader-typo",buttonClass:""},{name:"Register",to:"/Register",typoClass:"App-NavHeader-typo",buttonClass:""}],je=[{name:"Profile",to:"/NurseProfile",typoClass:"App-NavHeader-typo"},{name:"Tests",to:"/TestPage",typoClass:"App-NavHeader-typo"},{name:"Patients",to:"/PatientListPage",typoClass:"App-NavHeader-typo"}],ye={name:"Logout",to:"/",typoClass:"App-NavHeader-typo"},Ce=function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(){var e;return Object(c.a)(this,a),(e=t.call(this)).setAppBarBeforeLogin=function(){return console.log("login"),Oe.map((function(e,t){return s.a.createElement(E,{key:t,name:e.name,click:e.to,buttonClass:e.buttonClass,typoClass:e.typoClass})}))},e.setAppBarAfterLogin=function(){return je.map((function(e,t){return s.a.createElement(H.a,{key:t,container:!0,item:!0,xs:12,sm:6,lg:3,md:3},s.a.createElement(E,{key:t,name:e.name,click:e.to,typoClass:e.typoClass}))}))},e.setAppBar=function(t){var a=ye;return""===t.nurseSharedId?e.setAppBarBeforeLogin():s.a.createElement(s.a.Fragment,null,e.setAppBarAfterLogin(),s.a.createElement(be,{name:a.name,to:a.to,typoClass:a.typoClass}))},e.copyright=function(){return s.a.createElement(p.a,{variant:"body2",color:"textSecondary",align:"center"},"Copyright \xa9 ","TingLi Website"," ",(new Date).getFullYear(),".")},e.profilePage=function(){return s.a.createElement(H.a,{container:!0,spacing:3,style:{paddingLeft:"10%"}},s.a.createElement(H.a,{item:!0,xs:12,sm:12,md:12,lg:12},s.a.createElement(B,null)))},e.state={nurseSharedId:"",patient:{},test:{},setNurseContext:function(t,a){e.setState(Object(i.a)({},t,a))}},e}return Object(o.a)(a,[{key:"render",value:function(){var e=this;return s.a.createElement(s.a.Fragment,null,s.a.createElement("header",{className:"header-css"},s.a.createElement("div",{className:"header-css"}),"Nurse Patient Tests Management System"),s.a.createElement(j.Provider,{value:this.state},s.a.createElement("body",{className:"App-body"},s.a.createElement(g.a,null,s.a.createElement(M.a,{position:"static"},s.a.createElement(F.a,null,s.a.createElement(j.Consumer,null,(function(t){return e.setAppBar(t)})))),s.a.createElement(d.c,null,s.a.createElement(d.a,{exact:!0,path:"/"},s.a.createElement(L,null)),s.a.createElement(d.a,{exact:!0,path:"/Login"},s.a.createElement(R,null)),s.a.createElement(d.a,{exact:!0,path:"/Register"},s.a.createElement(Ie,null)),s.a.createElement(d.a,{exact:!0,path:"/TestPage"},s.a.createElement(K,null)),s.a.createElement(d.a,{exact:!0,path:"/NurseProfile"},this.profilePage()),s.a.createElement(d.a,{exact:!0,path:"/PatientListPage"},s.a.createElement(re,null)),s.a.createElement(d.a,{exact:!0,path:"/TestManagement/TestDetails"},s.a.createElement(me,null)),s.a.createElement(d.a,{exact:!0,path:"/TestManagement/createNewTest"},s.a.createElement(he,null)),s.a.createElement(d.a,{exact:!0,path:"/TestManagement/testListPage"},s.a.createElement(pe,null)),s.a.createElement(d.a,{exact:!0,path:"/TestManagement/allTestListPage"},s.a.createElement(pe,null)),s.a.createElement(d.a,{exact:!0,path:"/PatientManagement/createNewPatient"},s.a.createElement(ge,null)),s.a.createElement(d.a,{path:"/PatientManagement/Patient/:id"},s.a.createElement(ve,null)))))),s.a.createElement("footer",null,s.a.createElement(D.a,{mt:8},this.copyright())))}}]),a}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l.a.render(s.a.createElement(s.a.StrictMode,null,s.a.createElement(Ce,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},91:function(e,t,a){e.exports=a(105)},96:function(e,t,a){},97:function(e,t,a){}},[[91,1,2]]]);
//# sourceMappingURL=main.7adc158f.chunk.js.map